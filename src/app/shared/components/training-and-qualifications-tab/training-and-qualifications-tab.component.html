<app-training-link-panel
  data-testid="trainingLinkPanel"
  [workplace]="workplace"
  [workers]="workers"
  [totalRecords]="totalRecords"
></app-training-link-panel>
<ng-container *ngIf="workers && workers.length; else noStaffRecords">
  <div class="govuk-grid-row" *ngIf="totalRecords === 0">
    <div class="govuk-grid-column-two-thirds">
      <app-inset-text color="warning">You have not added any training or qualification records yet.</app-inset-text>
      <p>
        Many care providers use this service to store their staff training and qualification records. The service shows
        them when training is about to expire.
      </p>
      <h3>You need to click on the name of the person you want to add a training or qualification record for</h3>
    </div>
  </div>
  <app-training-info-panel
    *ngIf="workers"
    [totalExpiredTraining]="totalExpiredTraining"
    [totalExpiringTraining]="totalExpiringTraining"
    [totalStaffMissingMandatoryTraining]="staffMissingMandatoryTraining"
  ></app-training-info-panel>

  <app-training-select-view-panel>
    <app-training-select-view [title]="'Staff'">
      <app-training-and-qualifications-summary
        [workplace]="workplace"
        [workers]="workers"
        [workerCount]="workerCount"
      ></app-training-and-qualifications-summary>
    </app-training-select-view>
    <app-training-select-view [title]="'Training'">
      <app-training-and-qualifications-categories
        [workplace]="workplace"
        [trainingCategories]="trainingCategories"
      ></app-training-and-qualifications-categories>
    </app-training-select-view>
  </app-training-select-view-panel>
</ng-container>
<ng-template #noStaffRecords>
  <app-inset-text color="warning">You need to start adding your staff records.</app-inset-text>
</ng-template>
