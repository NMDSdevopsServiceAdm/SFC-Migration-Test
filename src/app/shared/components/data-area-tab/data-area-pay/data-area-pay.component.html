<div>
  <table class="govuk-table govuk-!-margin-top-7">
    <caption class="govuk-table__caption govuk-table__caption--m">
      Average pay and salaries
    </caption>
    <thead class="govuk-table__head">
      <tr class="govuk-table__row">
        <th scope="col" class="govuk-table__header"></th>
        <th scope="col" class="govuk-table__header commparision-table-header govuk-!-text-align-centre">
          Your workplace
        </th>
        <th scope="col" class="govuk-table__header commparision-table-header govuk-!-text-align-centre">
          Comparison group
        </th>
      </tr>
    </thead>
    <tbody class="govuk-table__body">
      <tr
        app-data-area-table-row
        class="govuk-table__row first-row"
        header="Care worker pay"
        [workplaceCell]="careWorkerPay"
        [comparisonCell]="comparisionGroupCareWorkerPay"
      ></tr>
      <tr
        app-data-area-table-row
        class="govuk-table__row"
        header="Senior care worker pay"
        [workplaceCell]="seniorCareWorkerPay"
        [comparisonCell]="comparisionGroupSeniorCareWorkerPay"
      ></tr>
      <tr
        *ngIf="showRegisteredNurseSalary"
        data-testid="register-nurse-comparision"
        app-data-area-table-row
        class="govuk-table__row"
        header="Registered nurse salary"
        [workplaceCell]="registeredNurseSalary"
        [comparisonCell]="comparisionGroupRegisteredNurseSalary"
      ></tr>
      <tr
        app-data-area-table-row
        class="govuk-table__row"
        header="Registered manager salary"
        [workplaceCell]="registeredManagerSalary"
        [comparisonCell]="comparisionGroupRegisteredManagerSalary"
      ></tr>
    </tbody>
  </table>

  <div class="govuk-width-container govuk-!-margin-top-7">
    <app-benchmarks-select-view-panel
      [falseSelectionName]="'Where you rank'"
      [trueSelectionName]="'Where you\'re positioned'"
      (handleViewToggle)="handleViewBenchmarkPosition($event)"
    >
    </app-benchmarks-select-view-panel>

    <ng-container *ngIf="viewBenchmarksPosition; else showRankings">
      <div class="govuk-!-margin-top-7" data-testid="barcharts">
        <app-data-area-barchart
          [section]="'Care worker pay'"
          [type]="'careWorkerPay'"
          [data]="rankingsData.pay.careWorkerPay"
          [altDescription]="'Care worker pay barchart'"
        ></app-data-area-barchart>
        <app-data-area-barchart
          [section]="'Senior care worker pay'"
          [type]="'seniorCareWorkerPay'"
          [data]="rankingsData.pay.seniorCareWorkerPay"
          [altDesrcripton]="'Senior care worker pay barchart'"
        ></app-data-area-barchart>
        <app-data-area-barchart
          [section]="'Registered nurse salary'"
          [type]="'registeredNursePay'"
          [data]="rankingsData.pay.registeredNursePay"
          [altDescription]="'Registered nurse salary barchart'"
        ></app-data-area-barchart>
        <app-data-area-barchart
          [section]="'Registered manager salary'"
          [type]="'registeredManagerPay'"
          [data]="rankingsData.pay.registeredManagerPay"
          [altDescription]="'Registered manager salary barchart'"
        ></app-data-area-barchart>
      </div>
    </ng-container>
    <ng-template #showRankings>
      <div class="govuk-!-margin-top-7" data-testid="rankings">
        <app-data-area-ranking
          [rankingTitle]="'Care worker pay'"
          [workplaceRankNumber]="18"
          [workplacesNumber]="72"
        ></app-data-area-ranking>
        <app-data-area-ranking
          [rankingTitle]="'Senior care worker pay'"
          [workplaceRankNumber]="51"
          [workplacesNumber]="72"
        ></app-data-area-ranking>
        <app-data-area-ranking
          [rankingTitle]="'Registered nurse salary'"
          [workplaceRankNumber]="36"
          [workplacesNumber]="72"
        ></app-data-area-ranking>
        <app-data-area-ranking
          [rankingTitle]="'Registered manager salary'"
          [workplaceRankNumber]="41"
          [workplacesNumber]="72"
        ></app-data-area-ranking>
      </div>
    </ng-template>
  </div>
</div>
